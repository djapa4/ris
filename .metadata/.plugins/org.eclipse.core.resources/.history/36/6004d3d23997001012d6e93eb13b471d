<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>[[${pageTitle}]]</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
	<nav th:fragment="navbar"
		class="navbar navbar-expand-md bg-dark navbar-dark">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" th:href="@{/}">Rezervacija trajekta</a>
			</div>
			<ul class="nav navbar-nav">
				<li><a class="nav-link" th:href="@{/users}">Upravljanje
						korisnicima</a></li>

				<li><a class="nav-link" th:href="@{/drzave}">Upravljanje
						drzavama</a></li>

				<li><a class="nav-link" th:href="@{/kompanije}">Upravljanje
						kompanijama</a></li>

				<li><a class="nav-link" th:href="@{/gradovi}">Upravljanje
						gradovima</a></li>

				<li><a class="nav-link" th:href="@{/trajekti}">Upravljanje
						trajektima</a></li>

				<li><a class="nav-link" th:href="@{/rezervacije}">Upravljajte
						rezervacijama</a></li>

				<li><a class="nav-link" th:href="@{/rezervacije/new}">Rezervisite</a></li>
				<li>
					<form th:action="@{/logout}" method="post" style="display: inline;">
						<button type="submit" class="nav-link btn btn-link"
							style="padding: 0; border: none;">Logout</button>
					</form>
				</li>
			</ul>
		</div>
	</nav>
	<div class="container-fluid">
		<div class="text-center">
			<h2>[[${pageTitle}]]</h2>
		</div>

		<form th:action="@{/trajekti/save}" th:object="${trajekti}"
			style="max-width: 500px; margin: 0 auto;">
			<input type="hidden" th:field="*{id}" />
			<div class="border border-secondary rounded p-3">
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Sifra trajekta: </label>
					<div class="col-sm-8">
						<input type="text" th:field="*{brojTrajekta}" class="form-control"
							required minlength="6" maxlength="6">
					</div>
					<label class="col-sm-4 col-form-label">Izaberi kompaniju: </label>
					<div class="col-sm-8">
						<select class="col-sm-8 form-control" name="kompanija" id="kom_id">
							<option th:each="kompanija : ${prikaziListuKompanija}"
								th:value="${kompanija.id}" th:text="${kompanija.nazivKompanije}">

							</option>
						</select>
					</div>
					<label class="col-sm-4 col-form-label">Ime trajekta: </label>
					<div class="col-sm-8">
						<input type="text" th:field="*{nazivTrajekta}"
							class="col-sm-8 form-control"
							placeholder="Unesite naziv trajekta">
					</div>
					<label class="col-sm-4 col-form-label">Luka od: </label>
					<div class="col-sm-8">
						<select class="col-sm-8 form-control" name="luka1.id" id="luka_od">
							<option th:each="luka : ${prikaziListuLuka}"
								th:value="${luka.id}" th:text="${luka.nazivLuke}"></option>
						</select>
					</div>
					<label class="col-sm-4 col-form-label">Luka do: </label>
					<div class="col-sm-8">
						<select class="col-sm-8 form-control" name="luka2.id" id="luka_do">
							<option th:each="luka : ${prikaziListuLuka}"
								th:value="${luka.id}" th:text="${luka.nazivLuke}"></option>
						</select>
					</div>
					<div class="form-group row">
						<label for="vremePolaska" class="col-sm-4 col-form-label">Vreme
							polaska: </label>
						<div class="col-sm-6">
							<input type="datetime-local" th:field="*{vremePolaska}"
								class="col-sm-8 form-control" id="vremePolaska"
								placeholder="Vreme polaska">
						</div>
					</div>
					<div class="form-group row">
						<label for="vremeDolaska" class="col-sm-4 col-form-label">Vreme
							dolaska: </label>
						<div class="col-sm-6">
							<input type="datetime-local" th:field="*{vremeDolaska}"
								class="col-sm-8 form-control" id="vremeDolaska"
								placeholder="Vreme dolaska">
						</div>
					</div>
					<label class="col-sm-4 col-form-label">Cena: </label>
					<div class="col-sm-8">
						<input type="text" th:field="*{cena}" class="form-control"
							required minlength="2" maxlength="45">
					</div>
				</div>
				<div class="text-center">
					<button type="submit" class="btn btn-success m-2">Sacuvaj</button>
					<button type="button" class="btn btn-secondary m-2"
						onclick="odustani()">Odustani</button>
				</div>
			</div>
		</form>
	</div>

	<script type="text/javascript">
		function odustani() {
			window.location = "[[@{/trajekti}]]";
		}
	</script>
</body>
</html>