<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Upravljajte rezervacijama</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
	<nav th:fragment="navbar"
		class="navbar navbar-expand-md bg-dark navbar-dark">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" th:href="@{/}">Rezervacija trajekta</a>
			</div>
			<ul class="nav navbar-nav">
				<li><a class="nav-link" th:href="@{/users}">Upravljanje
						korisnicima</a></li>

				<li><a class="nav-link" th:href="@{/drzave}">Upravljanje
						drzavama</a></li>

				<li><a class="nav-link" th:href="@{/kompanije}">Upravljanje
						kompanijama</a></li>

				<li><a class="nav-link" th:href="@{/luke}">Upravljanje
						lukama</a></li>

				<li><a class="nav-link" th:href="@{/trajekti}">Upravljanje
						trajektima</a></li>

				<li><a class="nav-link" th:href="@{/rezervacije}">Upravljajte
						rezervacijama</a></li>

				<li><a class="nav-link" th:href="@{/rezervacije/new}">Rezervisite</a></li>
				<li>
					<form th:action="@{/logout}" method="post" style="display: inline;">
						<button type="submit" class="nav-link btn btn-link"
							style="padding: 0; border: none;">Logout</button>
					</form>
				</li>
			</ul>
		</div>
	</nav>
	<div class="container-fluid">
		<div class="text-center">
			<h2>[[${pageTitle}]]</h2>
		</div>

		<form th:action="@{/rezervacije/save}" th:object="${rezervacije}"
			style="max-width: 500px; margin: 0 auto;">
			<input type="hidden" th:field="*{id}" />
			<div class="border border-secondary rounded p-3">
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Izaberi korisnika: </label>
					<div class="col-sm-8">
						<select class="col-sm-8 form-control" name="korisnik" id="kor_id">
							<option th:each="korisnik : ${prikaziListuKorisnika}"
								th:value="${korisnik.id}" th:text="${korisnik.gmail}"></option>
						</select>
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Izaberi trajekt: </label>
					<div class="col-sm-8">
						<select class="col-sm-8 form-control" name="trajekt" id="id">
							<option th:each="trajekt : ${prikaziListuTrajekta}"
								th:value="${trajekt.id}"
								th:text="${trajekt.brojTrajekta + ' | ' + trajekt.luka1.nazivLuke + ' - ' + trajekt.luka2.nazivLuke}"></option>
						</select>
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Izaberi vozilo: </label>
					<div class="col-sm-8">
						<select class="col-sm-8 form-control" name="vozilo"
							th:field="*{vozilo}">
							<option th:each="v : ${prikaziListuVozila}" th:value="${v.id}"
								th:text="${v.tip}"></option>
						</select>
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Broj karata: </label>
					<div class="col-sm-8">
						<input type="text" th:field="*{brojKarata}" class="form-control"
							required maxlength="1">
					</div>
				</div>
				<div class="text-center">
					<button type="submit" class="btn btn-success m-2">Sacuvaj</button>
					<button type="button" class="btn btn-secondary m-2"
						onclick="odustani()">Odustani</button>
				</div>
			</div>
		</form>
	</div>

	<script type="text/javascript">
		function odustani() {
			window.location = "[[@{/rezervacije}]]";
		}
	</script>
</body>
</html>